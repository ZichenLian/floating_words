<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>满屏飘字 H5</title>
<style>
  html,body,#stage{height:100%;margin:0}
  #stage{position:relative;overflow:hidden;background:#111}
  .card{
    position:absolute;width:260px;height:70px;
    border-radius:18px;background:#ffd; color:#222;
    display:flex;align-items:center;justify-content:center;
    font:700 14px/1.2 "PingFang SC","Microsoft YaHei",sans-serif;
    box-shadow:0 6px 18px rgba(0,0,0,.25);
    padding:8px;text-align:center
  }
  .hint{position:fixed;left:12px;bottom:10px;color:#888;font:12px/1.2 system-ui,sans-serif}
</style>
</head>
<body>
<div id="stage"></div>
<div class="hint">Tip: 每 1s 出现一个卡片，直到铺满屏幕</div>
<script>
const MESSAGES = ["今天过得开心嘛","多喝水哦~","记得吃水果","早点休息","梦想成真","顺顺利利","愿所有烦恼都消失","保持微笑喔","金榜题名","期待下一次见面","我想你了","天冷了多穿衣","好好爱自己","加油呀！","好运常在","心想事成","早安～","晚安～","别熬夜","一路发光吧","保持开心","今天也要元气满满","冲鸭！"];
const COLORS = ["#FFE4C4","#FFDEAD","#FFDAB9","#E6E6FA","#D8BFD8","#E0FFFF","#AFEEEE","#B0E0E6","#F0FFF0","#F5FFFA","#FFFACD","#F0E68C","#E6FFE6","#E0F7FA","#FCE4EC","#E8EAF6","#FFF0F5","#FFF8E1"];
const CARD_W = 260, CARD_H = 70, INTERVAL = 1000;

const stage = document.getElementById('stage');
const sw = () => stage.clientWidth, sh = () => stage.clientHeight;
const cols = () => Math.max(1, Math.floor(sw()/CARD_W));
const rows = () => Math.max(1, Math.floor(sh()/CARD_H));
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a;}

function allPositions(){
  const cs = cols(), rs = rows();
  const ox = (sw() - cs*CARD_W)/2, oy = (sh() - rs*CARD_H)/2;
  const pos = [];
  const jx = Math.floor(CARD_W/15), jy = Math.floor(CARD_H/15);
  for(let r=0;r<rs;r++){
    for(let c=0;c<cs;c++){
      let x = ox + c*CARD_W + (Math.random()*2-1)*jx;
      let y = oy + r*CARD_H + (Math.random()*2-1)*jy;
      x = Math.max(0, Math.min(x, sw()-CARD_W));
      y = Math.max(0, Math.min(y, sh()-CARD_H)); 
      pos.push([x,y]);
    }
  }
  return shuffle(pos);
}

let positions = allPositions();
function spawnOne(){
  if(!positions.length) return;
  const [x,y] = positions.pop();
  const div = document.createElement('div');
  div.className = 'card';
  div.style.left = x+'px';
  div.style.top  = y+'px';
  div.style.background = COLORS[Math.floor(Math.random()*COLORS.length)];
  div.innerText = MESSAGES[Math.floor(Math.random()*MESSAGES.length)];
  stage.appendChild(div);
  if(positions.length) setTimeout(spawnOne, INTERVAL);
}
spawnOne();

window.addEventListener('resize', () => {
  if(!positions.length) positions = allPositions();
});
</script>
</body>
</html>
